.caravan {
  position: relative;
  width: 110px;              /* card width */
  border-radius: 12px;
  border: 6px solid rgba(255,255,255,1);
  border-bottom: 0px;
  border-right: 0px;
  border-bottom-left-radius: 6px;
  border-top-right-radius: 6px;
  background: rgba(0,0,0,0.15);
  overflow: visible;          /* keeps stack inside table */  
  transition: all 0.5s ease;  
  
}

.caravan-overburden {
  position: relative;
  width: 110px;              /* card width */
  height: 360px;             /* visible stack area */
  border-radius: 12px;
  border: 6px solid rgb(79, 17, 6);
  border-bottom: 0px;
  border-right: 0px;    
  border-bottom-left-radius: 6px;
  border-top-right-radius: 6px;
  background: rgba(181, 41, 17, 0.15);
  overflow: visible;          /* keeps stack inside table */  
  transition: all 1s ease;
}

.caravan.enemy {
  transform: rotate(180deg);
}

.caravan.enemy:hover {
  cursor: not-allowed;
  background: #68050591;
  box-shadow: #680505 2px 4px 30px ;

}

.caravan-score {
  position: absolute;
  top: -50px;
  left: 50%;
  transform: translateX(-50%);

  height: 40px;
  width: 80px;
  border-radius: 999px;

  background: rgba(0,0,0,0.4);
  color: white;
  font-size: 30px;  

  display: flex;
  align-items: center;
  justify-content: center;

  font-family: 'Overseer';

  border: 4px solid rgba(255,255,255,0.6);
}

.caravan-score.rotate {
  transform: rotate(180deg);
  left: 10%;
  
}


.caravan-score-contest {
  position: absolute;
  top: -50px;
  left: 50%;
  transform: translateX(-50%);

  height: 40px;
  width: 80px;
  border-radius: 999px;

  background: rgba(0,0,0,0.4);
  color: white;
  font-size: 30px;  

  display: flex;
  align-items: center;
  justify-content: center;

  font-family: 'Overseer';

  border: 4px solid rgba(255,255,255,0.6);
}


.caravan-playable {
  box-shadow: #12ecc899 2px 4px 30px ;
  border-right: 6px solid  rgba(18, 236, 200, 0.6);
  border-bottom: 6px solid  rgba(18, 236, 200, 0.6); 
}

.caravan-playable:hover {
  cursor:pointer;
  background: rgba(12, 225, 237, 0.1);
  
  transform: scale(1.05);
}

.caravan-blocked {
  /* filter: grayscale(1) brightness(0.5); */
  transition: all 0.15s ease;
  border-right: 5px dashed  rgba(227, 67, 67, 0.6);
  border-bottom: 5px dashed  rgb(227, 67, 67);
  cursor: not-allowed;
}

.caravan-blocked::after {
  content: '';
  position: absolute;
  inset: 0;
  z-index: 10;
  background: rgba(188, 5, 5, 0.287);
  backdrop-filter: red brightness(0.8);

  border-radius: 12px;
  pointer-events: none;
  

}

.caravan-reason {
  position: absolute;
  bottom: -18px;
  right: 0;
  font-size: 11px;
  color: #ffb3b3;
  pointer-events: none;
}


.caravan-indicator {
  position: absolute;
  top: 6px;
  right: 6px;

  font-size: 18px;
  color: gold;

  animation: arrow-pulse 1s ease-in-out infinite;
  pointer-events: none;
  z-index: 100;
}

@keyframes arrow-pulse {
  0% {
    transform: translateX(0);
    opacity: 0.7;
  }
  50% {
    transform: translateX(4px);
    opacity: 1;
  }
  100% {
    transform: translateX(0);
    opacity: 0.7;
  }
}

.caravan-sold-label {
  position: absolute;
  bottom: -14px;
  right: 6px;

  padding: 4px 10px;
  border-radius: 8px;

  background: rgb(255, 182, 12);
  color: #544f08;

  font-family: 'Overseer';
  font-size: 20px;
  letter-spacing: 1px;

  border: 2px solid rgba(0,0,0,0.4);
  box-shadow: 0 2px 6px rgba(0,0,0,0.4);

  pointer-events: none;
  z-index: 50;
}

.caravan-contest-label {
  position: absolute;
  bottom: -14px;
  right: -10px;

  padding: 4px 10px;
  border-radius: 8px;

  background: rgb(246, 246, 246);
  color: rgb(68, 67, 66);

  font-family: 'Overseer';
  font-size: 20px;
  letter-spacing: 1px;

  border: 2px solid rgba(0,0,0,0.4);
  box-shadow: 0 2px 6px rgba(0,0,0,0.4);

  pointer-events: none;
  z-index: 50;
}

.caravan-overburden-label {
  position: absolute;
  bottom: -14px;
  right: -50px;

  padding: 4px 10px;
  border-radius: 8px;

  background: rgba(79, 13, 13, 0.587);
  color: rgb(236, 157, 157);

  font-family: 'Overseer';
  font-size: 20px;
  letter-spacing: 1px;

  border: 2px solid rgba(0,0,0,0.4);
  box-shadow: 0 2px 6px rgba(0,0,0,0.4);

  pointer-events: none;
  z-index: 50;
}


/* Golden, shiny, premium glow */
.sold {
  isolation: isolate;
  filter: saturate(1.15);

  color: #544f08;
  border: 6px solid rgb(255, 182, 12);
  border-bottom: 0px;
  border-right: 0px;
  
  background: rgba(253, 236, 0, 0.15);
  box-shadow:
    0 0 8px rgba(255, 215, 100, 0.55),
    0 0 18px rgba(255, 190, 80, 0.35),
    inset 0 0 12px rgba(255, 220, 120, 0.25);
  animation: golden-pulse 2.6s ease-in-out infinite;
}

/* Shimmer layer */
.sold::after {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: inherit;
  pointer-events: none;

  background: linear-gradient(
    120deg,
    transparent 30%,
    rgba(255, 230, 150, 0.6) 45%,
    rgba(255, 255, 200, 0.85) 50%,
    rgba(255, 230, 150, 0.6) 55%,
    transparent 70%
  );

  opacity: 0.35;
  mix-blend-mode: screen;
  animation: golden-shine 3s linear infinite;
}

/* Soft pulsing glow */
@keyframes golden-pulse {
  0%, 100% {
    box-shadow:
      0 0 8px rgba(255, 215, 100, 0.55),
      0 0 18px rgba(255, 190, 80, 0.35),
      inset 0 0 12px rgba(255, 220, 120, 0.25);
  }
  50% {
    box-shadow:
      0 0 14px rgba(255, 225, 140, 0.85),
      0 0 32px rgba(255, 190, 80, 0.6),
      inset 0 0 16px rgba(255, 235, 160, 0.35);
  }
}

/* Traveling shine */
@keyframes golden-shine {
  0%   { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}


/* Overburdened state */
.overburden {
  isolation: isolate;
  filter: grayscale(0.35) saturate(0.75) contrast(0.95);
  box-shadow:
    inset 0 0 14px rgba(120, 20, 20, 0.6),
    0 0 10px rgba(120, 20, 20, 0.45);
  animation: overburden-pulse 2.2s ease-in-out infinite;
}

/* Warning distortion + heat shimmer */
.overburden::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  pointer-events: none;

  background:
    repeating-linear-gradient(
      -45deg,
      rgba(180, 40, 40, 0.12),
      rgba(180, 40, 40, 0.12) 6px,
      transparent 6px,
      transparent 12px
    );

  mix-blend-mode: multiply;
  opacity: 0.6;
  animation: overburden-shift 2.4s linear infinite;
}

/* Uneasy, stressed pulse */
@keyframes overburden-pulse {
  0%, 100% {
    box-shadow:
      inset 0 0 14px rgba(120, 20, 20, 0.6),
      0 0 10px rgba(120, 20, 20, 0.45);
  }
  50% {
    box-shadow:
      inset 0 0 22px rgba(160, 30, 30, 0.85),
      0 0 18px rgba(160, 30, 30, 0.65);
  }
}

/* Subtle horizontal stress movement */
@keyframes overburden-shift {
  0%   { background-position: 0 0; }
  100% { background-position: 0px 50px; }
}


/* Contest / tie â€“ balanced, unresolved */
.contest {
  isolation: isolate;

  filter: saturate(0.95) contrast(1.05);
  box-shadow:
    inset 0 0 14px rgba(150, 140, 200, 0.55),
    0 0 18px rgba(170, 160, 230, 0.45);

  animation: contest-breathe 3s ease-in-out infinite;
}

/* Interference / tension overlay */
.contest::after {
  content: '';
  position: absolute;
  inset: -3px;
  border-radius: inherit;
  pointer-events: none;

  background:
    linear-gradient(
      90deg,
      rgba(180, 170, 230, 0.35),
      rgba(210, 210, 255, 0.55),
      rgba(180, 170, 230, 0.35)
    );

  opacity: 0.5;
  mix-blend-mode: screen;
  animation: contest-drift 4s linear infinite;
}

/* Calm but tense pulse */
@keyframes contest-breathe {
  0%, 100% {
    box-shadow:
      inset 0 0 14px rgba(150, 140, 200, 0.55),
      0 0 18px rgba(170, 160, 230, 0.45);
  }
  50% {
    box-shadow:
      inset 0 0 22px rgba(190, 180, 240, 0.85),
      0 0 28px rgba(190, 180, 240, 0.65);
  }
}

/* Horizontal equilibrium movement */
@keyframes contest-drift {
  0%   { background-position: -60% 0; }
  100% { background-position: 160% 0; }
}